<template>
    <div cotui>
        <h1 :id="id" class="___componentname____">{title}</h1>
    </div>
</template>

<style lang="scss">
  @import '../resources/theme/theme.scss';

  h1{
    color:rgb(110, 6, 114)
  }

  .___componentname____{}
</style>


<script>
  import * as COMMON from 'common';

  export default{
    name:'cotui-___componentname____',
    inheritAttrs: false,
    components:{},
    watch:{},
    props: {
      title:{
        type:String,
        default:'Pass a title'
      },
    },
    data(){
        return{
          id: '',
          ulData:[]
        }
    },
    beforeCreate(){},
    created(){
      /*
        update this.ulData based on child <ul /> element
      */
      var childEl = [];
      if( this.$slots.default  ){
        this.$slots.default[0].children.map(els=>{
          if(els.children){
            let $text = '';
            let $value = '';

            $text = els.children[0].text
            if(els.data){
              $value = 'data-value' in els.data.attrs?els.data.attrs['data-value']:text
            }
            childEl.push({text: $text,value: $text})
          }
        })
        this.ulData = childEl
      }
    },
    beforeMount(){
      this.id = this.$attrs.id||`js-___componentname____--${COMMON.utils.generateID()}`

      this.ariaLiveId = COMMON.CONSTANTS.ARIA_LIVE_ID
      this.hasAriaLive = document.getElementById(this.ariaLiveId)
      if(!this.hasAriaLive){
        const ariaLive = document.createElement('div')
              ariaLive.setAttribute('id',this.ariaLiveId)
              ariaLive.setAttribute('role','status')
              ariaLive.setAttribute('aria-live','polite')

        document.body.appendChild(ariaLive);
      }
    },
    mounted(){},
    beforeUpdate(){},
    updated(){},
    beforeDestroy(){},
    destoryed(){},
    computed:{},
    methods:{}
  }
</script>
