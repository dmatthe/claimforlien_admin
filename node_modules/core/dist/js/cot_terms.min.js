"use strict";$(function(){function e(){$("#termsAgree").is(":checked")?($("#termsAgree").closest(".form-group").removeClass("has-error"),$("#termsAgree").closest(".form-group").addClass("has-success"),$("#termsAgree_errorMessage small").css("display","none"),$("#termsAgree_errorMessage + .glyphicon").css("display","none")):($("#termsAgree").closest(".form-group").addClass("has-error"),$("#termsAgree").closest(".form-group").removeClass("has-success"),$("#termsAgree_errorMessage small").css("display","block"),$("#termsAgree_errorMessage + .glyphicon").css("display","block"))}(window.cot_app||window.CotApp).showTerms=function(r){var s=$.extend({termsText:"Content missing: terms text",disagreedText:"You need to agree to the terms to proceed",agreedCookieName:"terms_cookie"+Math.random().toString().split(".")[1],containerSelector:"",onAgreed:function(e){},onDisagreed:function(){},agreementTitle:"Terms of Use Agreement",agreeText:"I HAVE READ AND AGREE TO THE TERMS AND CONDITIONS ABOVE AND TO THE CITY OF TORONTO'S TERMS OF USE AND PRIVACY POLICY.",agreeButton:"Proceed"},r);if(!s.containerSelector)throw new Error("missing container selector for showTerms");"agree"!==$.cookie(s.agreedCookieName)?($(s.containerSelector).html(['<section id="cot-terms">',"<form>",'<div class="row">','<div class="col-xs-12">','<h2 tabindex="-1">',s.agreementTitle,"</h2>",s.termsText,"</div>","</div>",'<div class="row">','<div class="col-xs-12 ">','<div class="form-group has-feedback">','<div class="form-control">',"<label>",'<input name="termsAgree" id="termsAgree" aria-required="true" type="checkbox" value="agreed" aria-describedby="termsAgree_errorMessage"> ','<i class="form-control-feedback glyphicon glyphicon-remove" data-fv-icon-for="termsAgree" aria-hidden="true" style="display: none;"></i>',s.agreeText,"</label>","</div>",'<div id="termsAgree_errorMessage" class="help-block" role="alert">','<small class="help-block" style="display: none">',s.disagreedText,"</small>","</div>","</div>","</div>","</div>",'<div class="row">','<div class="col-xs-12">','<div class="btn-group">','<button type="button" class="btn btn-primary" id="cot-terms-agree">',s.agreeButton,"</button>","</div>","</div>","</div>","</form>","</section>"].join("")),$("#termsAgree").click(function(){e()}),$("#cot-terms-agree").click(function(){e(),$("#termsAgree").is(":checked")?($.cookie(s.agreedCookieName,"agree",{expires:1}),$("#cot-terms").remove(),s.onAgreed(!0)):s.onDisagreed()})):s.onAgreed(!1)}});