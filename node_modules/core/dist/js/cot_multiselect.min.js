"use strict";$(function(){(window.cot_app||window.CotApp).addMultiselect=function(t){var e=$.extend({$select:"",ariaLabelledBy:"",ariaDescribedBy:"",ariaRequired:!1,multiselectOptions:{}},t),i=e.multiselectOptions.onDropdownShown||function(){},n=e.multiselectOptions.onDropdownHidden||function(){},a=e.multiselectOptions.onChange||function(){};e.$select.multiselect($.extend(e.multiselectOptions,{onDropdownShown:function(){var t=e.$select.parent().find(".btn-group");t.find("button").attr("aria-expanded",!0);var n=t.find("ul li.active a");0===n.length&&(n=t.find("ul li a")),n.first().focus(),i()},onDropdownHidden:function(){e.$select.parent().find(".btn-group button").attr("aria-expanded",!1),n()},onChange:function(t,i){i&&!e.$select[0].multiple&&e.$select.parent().find(".btn-group button").focus(),a(t,i)}}));var r=e.$select.parent().find(".btn-group"),l="ms_popup_list_"+Math.random().toString().split(".")[1];r.find("button").attr({id:e.$select.attr("id")+"_btn","aria-controls":l,"aria-expanded":"false","aria-haspopup":"listbox","aria-labelledby":e.$select.attr("id")+"_label "+e.$select.attr("id")+"_btn","aria-describedby":e.ariaDescribedBy}).css("width","100%").css("text-align","left"),setTimeout(function(){var t=r.find("button").parent(),e=t.prev();console.log(e),e.length>0&&t.insertBefore(e)},300);var o=1;r.find("ul").attr({id:l,"aria-labelledby":e.$select.attr("id")+"_label","aria-describedby":e.ariaDescribedBy||t.$select.attr("id"),tabindex:"0",role:"listbox","aria-multiselectable":!0,"aria-activedescendant":"","aria-required":e.ariaRequired}).find("li").each(function(){$(this).attr("id",l+"_"+o++)}).attr({role:"option","aria-selected":!1}).find("a").attr({role:"presentation"}).find("label").css("color","#333")}});