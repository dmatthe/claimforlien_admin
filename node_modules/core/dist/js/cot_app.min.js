"use strict";function changeFontSize(e,t){t?deleteCookie("fontsize"):setCookie("fontsize",e),$("body").css("font-size",e),$("#text-increase")[0].disabled="1.5em"===e,$("#text-decrease")[0].disabled=".7em"===e,setConsistentHeight(".tabNavigation",".nav-tabs a"),setConsistentHeight(".carousel",".item")}function increaseFontSize(){var e=getCookie("fontsize")||"1.1em";changeFontSize(Math.min(parseFloat(e)+.1,1.5)+"em")}function decreaseFontSize(){var e=getCookie("fontsize")||".9em";changeFontSize(Math.max(parseFloat(e)-.1,.7)+"em")}function applyFontSize(){var e=getCookie("fontsize");e&&changeFontSize(e)}function setCookie(e,t){var o=new Date;o.setTime(o.getTime()+864e5),document.cookie=e+"="+t+";path=/;expires="+o.toUTCString()}function getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function deleteCookie(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function setConsistentHeight(e,t){var o,a=$(e),n=[];a.each(function(){var e=$(this).find(t);e.length&&(e.each(function(){$(this).css("height","auto")}),e.each(function(){n.push($(this).height())}),o=Math.max.apply(null,n)+10,e.each(function(){$(this).css("height",o+"px")}))})}var testfunction=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return[].concat(t)},wth="yoooo",cot_app=function(e,t){this.name=e,$.extend(this,{hasHeader:!0,hasFooter:!0,hasContentTop:!0,hasContentBottom:!0,hasContentRight:!0,hasContentLeft:!0,hasLeftNav:!1,searchcontext:"INTER"},t||{}),this.breadcrumbItems=[],this.isRendered=!1};cot_app.prototype.setTitle=function(e){$("#app-header").find("h1").html(e)},cot_app.prototype.setBreadcrumb=function(e,t){return this.breadcrumbItems=e,t||this.breadcrumbItems.push({name:this.name}),this._renderBreadcrumb(),this},cot_app.prototype._renderBreadcrumb=function(){var e=$("#app-breadcrumb");if(e.length)if(this.breadcrumbItems.length){var t="INTER"===this.searchcontext?"https://www.toronto.ca":"http://insideto.toronto.ca",o="INTER"===this.searchcontext?"City of Toronto":"InsideTO",a='<li><a href="'+t+'"><span class="glyphicon glyphicon-home" style="margin-right: 5px;"></span>'+o+"</a></li>",n=this.breadcrumbItems.length-1;$.each(this.breadcrumbItems,function(e,t){if(t.name){var o=t.link&&e<n?'<a href="'+t.link+'">'+t.name+"</a>":t.name;a+="<li>"+o+"</li>"}}),e.find("ol.breadcrumb").html(a),e.show()}else e.hide()},cot_app.prototype.render=function(){if(this.isRendered)throw new Error("App is already rendered");var e=this;switch(e.setTitle(e.name),e._renderBreadcrumb(),e.searchcontext){case"INTRA":$("#siteSearchGSA").attr("action","http://insideto-search.toronto.ca/search"),$("#siteSearchGSA #q").attr("placeholder","Search Inside Toronto..."),$("#sf_client").val("insideto-search"),$("#sf_proxystylesheet").val("insideto-search"),$("#sf_site").val("InsideTO-All"),$(".sf_311").remove();break;case"311":$("#siteSearchGSA").attr("action","http://insideto-search.toronto.ca/search"),$("#siteSearchGSA #q").attr("placeholder","Search the 311 Knowledge Base..."),$("#sf_client").val("311KBSTAFF"),$("#sf_proxystylesheet").val("311KBSTAFF"),$("#sf_site").val("311KB");break;default:$("#siteSearchGSA").attr("action","https://find.toronto.ca/searchblox/servlet/SearchServlet"),$("#siteSearchGSA #q").attr("placeholder",""),$("#siteSearchGSA #q").attr("name","query"),$("#siteSearchGSA [name='mss']").remove(),$("#siteSearchGSA [name='oe']").remove(),$("#siteSearchGSA [name='ie']").remove(),$("#siteSearchGSA [name='output']").remove(),$("#siteSearchGSA [name='sort']").remove(),$("#sf_client").remove(),$("#sf_proxystylesheet").remove(),$("#sf_site").remove(),$(".sf_311").remove()}return e.hasLeftNav?($("#app-nav-left").removeClass("hide"),$("#app-content-full").addClass("col-sm-9")):$("#app-nav-left").remove(),e.hasHeader||($("#cot-header").remove(),$("#app-header").remove()),e.hasFooter||$("#app-footer").remove(),e.hasContentTop||$("#app-content-top").remove(),e.hasContentRight||($("#app-content-left").removeClass("col-md-8"),$("#app-content-right").remove()),e.hasContentLeft||$("#app-content-left").remove(),e.hasContentBottom||$("#app-content-bottom").remove(),applyFontSize(),$("#appDisplay").removeClass("hide"),e.isRendered=!0,this},cot_app.prototype.setContent=function(e){var t=this;$.each(["top","right","bottom","left","nav"],function(o,a){void 0!==e[a]&&$(t.getContentContainerSelector(a)).html(e[a])})},cot_app.prototype.addForm=function(e,t,o){if(o=void 0===o||o){var a={};a[t]="",this.setContent(a)}e.render({target:this.getContentContainerSelector(t)})},cot_app.prototype.getContentContainerSelector=function(e){return"nav"===e?"#app-nav-left":"#app-content-"+e};